<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Titanic Survival Classifier - TensorFlow.js</title>

    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-vis@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
    <script src="app.js"></script>

    <style>
        body { font-family: Arial; margin:20px; }
        section { margin-bottom:25px; padding:15px; border:1px solid #ddd; }
        button { padding:8px 12px; margin:5px; }
        table { border-collapse: collapse; width:100%; }
        th,td { border:1px solid #ccc; padding:6px; }
        th { background:#f2f2f2; }
    </style>
</head>
<body>

<h1>Titanic Survival Classifier (with Sigmoid Gate)</h1>

<section>
    <h2>1. Data Load</h2>
    <input type="file" id="train-file" accept=".csv">
    <input type="file" id="test-file" accept=".csv">
    <button onclick="loadData()">Load Data</button>
    <div id="data-status"></div>
</section>

<section>
    <h2>2. Preprocess</h2>
    <button onclick="preprocessData()" id="preprocess-btn" disabled>Preprocess</button>
    <div id="preprocessing-output"></div>
</section>

<section>
    <h2>3. Model</h2>
    <button onclick="createModel()" id="model-btn" disabled>Create Model</button>
    <div id="model-summary"></div>
</section>

<section>
    <h2>4. Train</h2>
    <button onclick="trainModel()" id="train-btn" disabled>Train</button>
    <div id="training-status"></div>
</section>

<section>
    <h2>5. Evaluation</h2>
    Threshold:
    <input type="range" min="0" max="1" step="0.01" value="0.5"
           id="threshold-slider" disabled>
    <span id="threshold-value">0.5</span>

    <div id="confusion-matrix"></div>
    <div id="performance-metrics"></div>
</section>

<section>
    <h2>6. Prediction</h2>
    <button onclick="predict()" id="predict-btn" disabled>Predict</button>
    <div id="prediction-output"></div>
</section>

<section>
    <h2>7. Export</h2>
    <button onclick="exportResults()" id="export-btn" disabled>Export</button>
</section>

</body>
</html>
