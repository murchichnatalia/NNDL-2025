<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Titanic Survival Factor Analysis</title>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    :root{
      --bg:#f6f8fb;
      --card:#ffffff;
      --primary:#2f80ed;
      --text:#2c3e50;
      --muted:#6b7c93;
      --shadow:0 4px 12px rgba(0,0,0,0.06);
      --radius:12px;
    }

    *{box-sizing:border-box;margin:0;padding:0;}
    body{font-family:'Inter',sans-serif;background:var(--bg);color:var(--text);}

    header{
      position:sticky;top:0;background:var(--card);
      padding:1rem 2rem;box-shadow:var(--shadow);z-index:100;
    }

    header h1{font-size:1.4rem;font-weight:600;}

    main{padding:2rem;max-width:1300px;margin:auto;}

    section{margin-bottom:3rem;}

    .card{
      background:var(--card);
      padding:1.5rem;
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      margin-bottom:1.5rem;
    }

    .section-title{
      font-size:1.2rem;
      font-weight:600;
      margin-bottom:1rem;
    }

    .grid{
      display:grid;
      gap:1rem;
    }

    .grid-2{
      grid-template-columns:repeat(auto-fit,minmax(400px,1fr));
    }

    button{
      background:var(--primary);
      color:white;
      border:none;
      padding:0.6rem 1rem;
      border-radius:8px;
      cursor:pointer;
    }

    input[type="file"]{margin-bottom:1rem;}

    table{
      width:100%;
      border-collapse:collapse;
      font-size:0.85rem;
    }

    th,td{
      border-bottom:1px solid #eee;
      padding:0.5rem;
      text-align:left;
    }

    footer{
      background:var(--card);
      padding:2rem;
      font-size:0.85rem;
      color:var(--muted);
      box-shadow:var(--shadow);
    }

    @media(max-width:600px){
      main{padding:1rem;}
    }
  </style>
</head>
<body>

<header>
  <h1>Titanic – What Factors Most Influenced Survival?</h1>
</header>

<main>

<section class="card">
  <div class="section-title">Upload Titanic Data</div>
  <input type="file" id="trainFile" accept=".csv" />
  <input type="file" id="testFile" accept=".csv" />
  <button id="loadBtn">Load & Analyze</button>
  <div id="uploadMessage"></div>
</section>

<section id="survivalChartsSection" style="display:none;">
  <div class="section-title">Survival Rate by Key Factors (Train Data)</div>
  <div class="grid grid-2">
    <div class="card"><canvas id="sexChart"></canvas></div>
    <div class="card"><canvas id="classChart"></canvas></div>
    <div class="card"><canvas id="ageChart"></canvas></div>
    <div class="card"><canvas id="sibspChart"></canvas></div>
    <div class="card"><canvas id="parchChart"></canvas></div>
    <div class="card"><canvas id="fareChart"></canvas></div>
    <div class="card"><canvas id="cabinChart"></canvas></div>
    <div class="card"><canvas id="embarkedChart"></canvas></div>
  </div>
</section>

<section id="statsSection" class="card" style="display:none;">
  <div class="section-title">Statistical Summary (Train Data)</div>
  <div id="statsTables"></div>
</section>

<section id="heatmapSection" class="card" style="display:none;">
  <div class="section-title">Correlation Heatmap (Numeric Variables)</div>
  <canvas id="heatmapChart"></canvas>
</section>

<section id="graphSummarySection" class="card" style="display:none;">
  <div class="section-title">Short Graph Summary</div>
  <ul id="graphSummary"></ul>
</section>

</main>

<footer>
  <strong>Deploy on GitHub Pages:</strong><br><br>
  1. Create a public repository.<br>
  2. Upload <code>index.html</code> and <code>app.js</code> to root.<br>
  3. Go to Settings → Pages.<br>
  4. Select Main branch and root folder.<br>
  5. Save and access the generated URL.
</footer>

<script src="app.js"></script>
</body>
</html>
